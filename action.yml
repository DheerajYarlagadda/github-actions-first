name: dheeraj test
description: just to check and get familiarize
inputs:
  name:
    description: my name
    required: true
  echo:
    description: a boolean flag
    required: true

runs:
  using: composite
  steps:
    - name: testing powershell
      id: setEnv
      shell: powershell
      run: |
        if($${{ inputs.echo }}) {
          $cmd="echo ${{ inputs.name }}"
        }else {
          $cmd="echo 'Nothing to echo'"
        }
        echo "::set-output name=cmd::$cmd"

    - name: tree workspace
      if: ${{ env.ACTIONS_STEP_DEBUG }}==true || ${{ env.ACTIONS_RUNNER_DEBUG }}==true
      shell: powershell
      run: |
        tree ${{ github.workspace }}
      
    - name: Perform operation
      env: 
        CMD: ${{ steps.setEnv.outputs.cmd }}
      shell: powershell
      run: |
        $command=${{ env.CMD }}
        echo $command

    # - name: Print operation
    #   shell: python
    #   run: |
    #     import os

    #     operation = os.getenv('operation')
    #     name = os.getenv('INPUT_NAME')

    #     print(f"{operation}ing your name: {name}")
